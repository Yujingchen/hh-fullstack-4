{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/contacts.js","App.js","index.js"],"names":["Filter","persons","query","handleSearchTextChange","results","filter","person","name","toLowerCase","indexOf","resultsCollection","map","result","key","number","value","onChange","PersonForm","hanldeSubmit","newName","newNumber","handleNameTextChange","handleNumberTextChange","onSubmit","type","Person","handleDeleteContact","numbersCollection","onClick","window","confirm","id","handleDeleteBtnClick","Notification","message","style","color","backgroundColor","fontSize","className","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setQuery","errorMessage","setErrorMessage","useEffect","contactService","initialData","event","target","preventDefault","length","newContact","find","p","copy","returnedData","concat","catch","error","setTimeout","console","log","Persons","e","handleDeleteContactOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68818778.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({ persons, query, handleSearchTextChange }) => {\n    const results = query !== \"\" ? persons.filter((person) => person.name.toLowerCase().indexOf(query.toLowerCase()) !== -1) : null\n    const resultsCollection = results ?\n        results.map(result => {\n            return (\n                <p key={result.name}>{result.name} {result.number}</p>\n            )\n        })\n        : null\n    return (\n        <div>\n            filter shown with: <input value={query} onChange={handleSearchTextChange} />\n            {resultsCollection}\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ hanldeSubmit, newName, newNumber, handleNameTextChange, handleNumberTextChange }) => {\n    return (\n        <>\n            <h2>add a new</h2>\n            <form onSubmit={hanldeSubmit}>\n                <div>\n                    name: <input value={newName} onChange={handleNameTextChange} />\n                </div>\n                <div>\n                    number: <input value={newNumber} onChange={handleNumberTextChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ persons, handleDeleteContact }) => {\n    const handleDeleteBtnClick = (person) => {\n        if (window.confirm(`Delete ${person.name}`)) {\n            handleDeleteContact(person.id)\n        }\n    }\n    const numbersCollection = (\n        persons.map(person => {\n            return (\n                <div key={person.name}>\n                    <span >{person.name} {person.number}</span>\n                    <span><button onClick={() => handleDeleteBtnClick(person)}>delete</button></span>\n                </div >\n            )\n        })\n    )\n    return (\n        <>\n            <h2>Numbers</h2>\n            {numbersCollection}\n        </>\n    )\n}\n\nexport default Person","import React from \"react\"\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={{ color: \"red\", backgroundColor: \"grey\", fontSize: \"20px\" }} className=\"error\">\n            {message}\n        </div>\n    )\n}\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst putContact = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteContact, putContact }","import React, { useState, useEffect } from 'react'\nimport Filter from \"./Filter\"\nimport PersonForm from \"./PersonForm\"\nimport Persons from \"./Persons\"\nimport Notification from \"./Notification\"\nimport contactService from \"./services/contacts\"\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [query, setQuery] = useState('')\n    const [errorMessage, setErrorMessage] = useState('')\n    useEffect(() => {\n        contactService.getAll().then(initialData => {\n            setPersons(initialData)\n        })\n    }, [])\n    const handleNameTextChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberTextChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    const handleSearchTextChange = (event) => {\n        setQuery(event.target.value)\n    }\n    const hanldeSubmit = (event) => {\n        event.preventDefault()\n        // checking if name is unique\n        if (persons.filter(person => person.name === newName).length > 0) {\n            if (window.confirm(`${newName} is already add to phonebook, replace the old number with a new one?`)) {\n                const newContact = {\n                    name: newName,\n                    number: newNumber\n                }\n                const id = persons.find(p => p.name === newName).id\n                const copy = persons.filter(p => p.id !== id)\n                contactService.putContact(id, newContact).then((returnedData) => {\n                    setPersons(copy.concat(returnedData))\n                }).catch(error => {\n                    setErrorMessage(`Something wrong happen when updating number for ${newName}`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n            }\n        }\n        else {\n            const newContact = {\n                name: newName,\n                number: newNumber\n            }\n            contactService.create(newContact)\n                .then((returnedData) => {\n                    setPersons(persons.concat(returnedData))\n                })\n                .catch(error => {\n                    console.log(\"hello\")\n                    console.log(error.response.data)\n                    setErrorMessage(error.response.data.error)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n        }\n\n        //no checking name unique\n        // const newContact = {\n        //     name: newName,\n        //     number: newNumber\n        // }\n        // contactService.create(newContact).then((returnedData) => {\n        //     setPersons(persons.concat(returnedData))\n        // })\n        // setNewName(\"\")\n        // setNewNumber(\"\")\n    }\n    const handleDeleteContactOf = (id) => {\n        contactService.deleteContact(id).then(() => {\n            setPersons(persons.filter(person => person.id !== id))\n        }).catch(e => {\n            setErrorMessage(`Something wrong happen when deleting a contact`)\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        })\n    }\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} />\n            <Filter persons={persons} query={query} handleSearchTextChange={handleSearchTextChange}></Filter>\n            <PersonForm hanldeSubmit={hanldeSubmit} handleNameTextChange={handleNameTextChange} handleNumberTextChange={handleNumberTextChange} newName={newName} newNumber={newNumber}></PersonForm>\n            <Persons persons={persons} handleDeleteContact={(id) => handleDeleteContactOf(id)} ></Persons>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\"\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}